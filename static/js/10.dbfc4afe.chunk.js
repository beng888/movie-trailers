(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{232:function(e,t,a){},256:function(e,t,a){"use strict";var n=a(4),r=a.n(n),i=a(11),l=a(210),c=a(0),s=a.n(c),o=a(27),m=a(257),u=a.n(m),d=(a(259),a(29)),p=a(260),f=a.n(p),b=(a(232),a(253)),v=a(211);t.a=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],m=Object(c.useState)([]),p=Object(l.a)(m,2),E=p[0],g=p[1],h=Object(c.useState)([]),k=Object(l.a)(h,2),y=k[0],w=k[1],O=Object(c.useState)([]),j=Object(l.a)(O,2),I=j[0],x=j[1];Object(c.useEffect)(function(){!function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,Object(d.g)();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=g,e.next=8,Object(d.h)(28);case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=w,e.next=13,Object(d.l)();case 13:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=x,e.next=18,Object(d.n)();case 18:e.t7=e.sent,(0,e.t6)(e.t7);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var C=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,Object(d.h)(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=a.map(function(e,t){return s.a.createElement("li",{className:"list-inline-item",key:t},s.a.createElement("button",{style:{wordWrap:"normal",verticalAlign:"baseline"},type:"button",className:"btn btn-outline-info",onClick:function(){C(e.id)}},e.name))}),F=E.slice(0,20).map(function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(b.a,{className:"bg-dark text-white"}," ",s.a.createElement(b.a.Img,{src:e.poster,alt:e.title}),s.a.createElement(b.a.ImgOverlay,{className:"card__content"},s.a.createElement("h5",null,e.title),s.a.createElement(v.a,{as:o.b,to:"/movie/".concat(e.id),variant:"outline-info"},"MORE"))),s.a.createElement(f.a,{count:10,value:e.rating,isHalf:!0,edit:!1}),s.a.createElement("br",null))}),N=y.slice(0,20).map(function(e,t){return"https://image.tmdb.org/t/p/w200null"!==e.profileImg&&s.a.createElement("div",{key:t},s.a.createElement(b.a,{className:"bg-transparent text-white",style:{border:"none"}},s.a.createElement(b.a.Img,{className:"img-fluid rounded-circle mx-auto d-block",src:e.profileImg,alt:e.name}),s.a.createElement(b.a.ImgOverlay,{className:"card__content"})),s.a.createElement("p",{className:"font-weight-bold text-center"},e.name))}),T=I.slice(0,20).map(function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(b.a,{className:"bg-dark text-white"},s.a.createElement(b.a.Img,{src:e.poster,alt:e.title}),s.a.createElement(b.a.ImgOverlay,{className:"card__content"}," ",s.a.createElement("h5",null,e.title),s.a.createElement(v.a,{as:o.b,to:"/movie/".concat(e.id),variant:"outline-info"},"MORE"))),s.a.createElement(f.a,{count:10,value:e.rating,isHalf:!0,edit:!1}),s.a.createElement("br",null))}),L={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5,slidesToSlide:5},desktop:{breakpoint:{max:3e3,min:1024},items:4,slidesToSlide:4,partialVisibilityGutter:40},tablet:{breakpoint:{max:1024,min:464},items:3,slidesToSlide:3,partialVisibilityGutter:30},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:2,partialVisibilityGutter:30}};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col multi__carousel"},s.a.createElement("h3",null,"Movie by Genre"),s.a.createElement("ul",{className:"list-inline"},S)," ",s.a.createElement(u.a,{showDots:!0,responsive:L,centerMode:!0,infinite:!0,minimumTouchDrag:20,removeArrowOnDeviceType:"mobile",dotListClass:"dots"},F)," ",s.a.createElement("h3",null,"Trending Persons"),s.a.createElement(u.a,{arrows:!1,showDots:!0,responsive:{desktop:{breakpoint:{max:4e3,min:1024},items:5,slidesToSlide:5},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:4},mobile:{breakpoint:{max:464,min:0},items:3,slidesToSlide:3}},infinite:!0,minimumTouchDrag:20,removeArrowOnDeviceType:"mobile",dotListClass:"dots"},N),s.a.createElement("h3",null,"Top Rated Movies"),s.a.createElement(u.a,{showDots:!0,responsive:L,centerMode:!0,infinite:!0,minimumTouchDrag:20,removeArrowOnDeviceType:"mobile",dotListClass:"dots"},T))))}},539:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),i=a(11),l=a(210),c=a(0),s=a.n(c),o=a(29),m=a(562),u=a(501),d=a.n(u),p=a(260),f=a.n(p),b=a(211),v=a(7),E=a.n(v),g=a(565),h=a(563),k=a(28),y=a(559),w=a(560),O=a(204);var j=function(e){var t=Object(k.c)(function(e){return e.user}),a=Object(c.useState)(0),n=Object(l.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(0),m=Object(l.a)(o,2),u=m[0],d=m[1],p=Object(c.useState)(null),f=Object(l.a)(p,2),b=f[0],v=f[1],g=Object(c.useState)(null),h=Object(l.a)(g,2),y=h[0],w=h[1],j={};return j=e.video?{videoId:e.videoId,userId:e.userId}:{commentId:e.commentId,userId:e.userId},Object(c.useEffect)(function(){E.a.post("/api/like/getLikes",j).then(function(t){console.log("getLikes",t.data),t.data.success?(i(t.data.likes.length),t.data.likes.map(function(t){t.userId===e.userId&&v("liked")})):alert("Failed to get likes")}),E.a.post("/api/like/getDislikes",j).then(function(t){console.log("getDislike",t.data),t.data.success?(d(t.data.dislikes.length),t.data.dislikes.map(function(t){t.userId===e.userId&&w("disliked")})):alert("Failed to get dislikes")})},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{key:"comment-basic-like"},s.a.createElement(O.a,{type:"like",theme:"liked"===b?"filled":"outlined",onClick:function(){if(t.userData&&!t.userData.isAuth)return alert("Please Log in first");null===b?E.a.post("/api/like/upLike",j).then(function(e){e.data.success?(i(r+1),v("liked"),null!==y&&(w(null),d(u-1))):alert("Failed to increase the like")}):E.a.post("/api/like/unLike",j).then(function(e){e.data.success?(i(r-1),v(null)):alert("Failed to decrease the like")})},style:{cursor:"pointer"}}),s.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},r)),"\xa0\xa0\xa0\xa0",s.a.createElement("span",{key:"comment-basic-dislike"},s.a.createElement(O.a,{type:"dislike",theme:"disliked"===y?"filled":"outlined",onClick:function(){if(t.userData&&!t.userData.isAuth)return alert("Please Log in first");null!==y?E.a.post("/api/like/unDisLike",j).then(function(e){e.data.success?(d(u-1),w(null)):alert("Failed to decrease dislike")}):E.a.post("/api/like/upDisLike",j).then(function(e){e.data.success?(d(u+1),w("disliked"),null!==b&&(v(null),i(r-1))):alert("Failed to increase dislike")})},style:{cursor:"pointer"}}),s.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},u)))},I=g.a.TextArea;var x=function(e){var t=Object(k.c)(function(e){return e.user}),a=Object(c.useState)(""),n=Object(l.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(!1),m=Object(l.a)(o,2),u=m[0],d=m[1],p=function(a){a.preventDefault();var n={writer:t.userData._id,postId:e.postId,responseTo:e.comment._id,content:r};E.a.post("/api/comment/saveComment",n).then(function(t){t.data.success?(i(""),d(!u),e.refreshFunction(t.data.result)):alert("Failed to save Comment")})},f=[s.a.createElement(j,{comment:!0,commentId:e.comment._id,userId:localStorage.getItem("userId")}),s.a.createElement("span",{onClick:function(){d(!u)},key:"comment-basic-reply-to",style:{cursor:"pointer"}},"Reply to"," ")];return s.a.createElement("div",{style:{textAlign:"left"}},s.a.createElement(y.a,{actions:f,author:e.comment.writer.name,avatar:s.a.createElement(w.a,{src:e.comment.writer.image,alt:"image"}),content:s.a.createElement("p",null,e.comment.content)}),u&&s.a.createElement("form",{style:{display:"flex",gap:"1rem"},onSubmit:p},s.a.createElement(I,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){i(e.currentTarget.value)},value:r,placeholder:"write some comments"}),s.a.createElement("br",null),s.a.createElement(b.a,{variant:"outline-success",style:{width:"20%",height:"52px"},onClick:p},"Reply")))};var C=function e(t){var a=Object(c.useState)(0),n=Object(l.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(!1),m=Object(l.a)(o,2),u=m[0],d=m[1];Object(c.useEffect)(function(){var e=0;t.CommentLists.map(function(a){a.responseTo===t.parentCommentId&&e++}),i(e)},[t.CommentLists,t.parentCommentId]);var p;return s.a.createElement("div",{style:{textAlign:"left"}},r>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{style:{fontSize:"14px",margin:0,color:"gray",cursor:"pointer"},onClick:function(){d(!u)}},"View ",r," more comment(s)")," ",s.a.createElement("br",null)),u&&(p=t.parentCommentId,t.CommentLists.map(function(a,n){return s.a.createElement(s.a.Fragment,null,a.responseTo===p&&s.a.createElement("div",{style:{width:"80%",marginLeft:"40px"}},s.a.createElement(x,{comment:a,postId:t.postId,refreshFunction:t.refreshFunction}),s.a.createElement(e,{CommentLists:t.CommentLists,parentCommentId:a._id,postId:t.postId,refreshFunction:t.refreshFunction})))})))};g.a.TextArea,h.a.Title;var S=function(e){var t=Object(k.c)(function(e){return e.user}),a=Object(c.useState)(""),n=Object(l.a)(a,2),r=n[0],i=n[1],o=function(a){if(a.preventDefault(),t.userData&&!t.userData.isAuth)return alert("Please Log in first");var n={content:r,writer:t.userData._id,postId:e.postId};console.log(n),E.a.post("/api/comment/saveComment",n).then(function(t){t.data.success?(i(""),e.refreshFunction(t.data.result)):alert("Failed to save Comment")})};return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("h3",null," Comment on ",e.movieTitle," "),s.a.createElement("hr",null),console.log(e.CommentLists),e.CommentLists&&e.CommentLists.map(function(t,a){return!t.responseTo&&s.a.createElement(s.a.Fragment,null,s.a.createElement(x,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction}),s.a.createElement(C,{CommentLists:e.CommentLists,postId:e.postId,parentCommentId:t._id,refreshFunction:e.refreshFunction})," ",s.a.createElement("br",null))}),e.CommentLists&&0===e.CommentLists.length&&s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"}},"Be the first one who shares your thought about this movie"),s.a.createElement("form",{style:{display:"flex",gap:"1rem"},onSubmit:o},s.a.createElement("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){i(e.currentTarget.value)},value:r,placeholder:"write some comments"}),s.a.createElement(b.a,{style:{width:"20%",height:"52px",padding:"1px"},onClick:o},"Submit")))};var F=function(e){var t=Object(k.c)(function(e){return e.user}),a=e.movieId,n=e.userFrom,r=e.movieInfo.title,i=e.movieInfo.backdrop_path,o=e.movieInfo.runtime,m=e.movieInfo.release_date,u=Object(c.useState)(0),d=Object(l.a)(u,2),p=d[0],f=d[1],v=Object(c.useState)(!1),g=Object(l.a)(v,2),h=g[0],y=g[1],w={movieId:a,userFrom:n,movieTitle:r,moviePost:i,movieRunTime:o,movieReleaseDate:m};return Object(c.useEffect)(function(){E.a.post("/api/favorite/favoriteNumber",w).then(function(e){e.data.success?f(e.data.subscribeNumber):alert("Failed to get Favorite Number")}),E.a.post("/api/favorite/favorited",w).then(function(e){e.data.success?y(e.data.subcribed):alert("Failed to get Favorite Information")})},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{variant:"outline-primary",onClick:function(){if(t.userData&&!t.userData.isAuth)return alert("Please Log in first");h?E.a.post("/api/favorite/removeFromFavorite",w).then(function(e){e.data.success?(f(p-1),y(!h)):alert("Failed to Remove From Favorite")}):E.a.post("/api/favorite/addToFavorite",w).then(function(e){e.data.success?(f(p+1),y(!h)):alert("Failed to Add To Favorite")})}}," ",h?"Remove Favorite":"Add to Favorites"," ",p))},N=a(257),T=a.n(N),L=(a(259),a(253)),D=a(541);a(539),a(256);t.default=function e(t){var a=t.match.params,n=[],u=Object(c.useState)(!1),p=Object(l.a)(u,2),v=p[0],g=p[1],h=Object(c.useState)([]),k=Object(l.a)(h,2),y=k[0],w=k[1],I=Object(c.useState)([]),x=Object(l.a)(I,2),C=x[0],N=x[1],_=Object(c.useState)([]),A=Object(l.a)(_,2),R=A[0],M=A[1],P=Object(c.useState)([]),G=Object(l.a)(P,2),H=G[0],V=G[1],z=Object(c.useState)(!1),B=Object(l.a)(z,2),J=B[0],W=B[1],Q=Object(c.useState)([]),X=Object(l.a)(Q,2),Y=X[0],q=X[1],K={movieId:a.id};Object(c.useEffect)(function(){E.a.post("/api/comment/getComments",K).then(function(e){console.log(e),e.data.success?(console.log("response.data.comments",e.data.comments),q(e.data.comments)):alert("Failed to get comments Info")})},[]);Object(c.useEffect)(function(){(function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=w,e.next=3,Object(o.i)(a.id);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=N,e.next=8,Object(o.j)(a.id);case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=M,e.next=13,Object(o.f)(a.id);case 13:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=V,e.next=18,Object(o.m)(a.id);case 18:e.t7=e.sent,(0,e.t6)(e.t7);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),window.scrollTo(0,0)},[a.id]),n=y.genres;var U=Object(c.useState)(!1),Z=Object(l.a)(U,2),$=Z[0],ee=Z[1];Object(c.useEffect)(function(){return window.addEventListener("scroll",function(){window.innerHeight+window.scrollY>=document.body.scrollHeight?ee(!0):ee(!1)}),function(){window.removeEventListener("scroll",e,!0)}},[]);var te;n&&(te=n.map(function(e,t){return s.a.createElement("li",{className:"list-inline-item genre",key:t},s.a.createElement(b.a,{variant:"outline-primary",size:"lg",disabled:!0},e.name))}));var ae=R.map(function(e,t){return"https://image.tmdb.org/t/p/w200null"!==e.img&&s.a.createElement("div",{className:"col-md-3  col-xs-6 text-center",key:t},s.a.createElement("img",{className:"img-fluid rounded-circle mx-auto d-block",src:e.img,onError:"no image",alt:e.name}),s.a.createElement("p",{className:"font-weight-bold text-center"},e.name),s.a.createElement("p",{className:" text-center",style:{color:"#5a606b"}},e.character))}),ne=H.slice(0,20).map(function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(L.a,{className:"bg-dark text-white"}," ",s.a.createElement(L.a.Img,{src:e.poster,alt:e.title}),s.a.createElement(L.a.ImgOverlay,{className:"card__content"},s.a.createElement(b.a,{variant:"outline-info"}," ",s.a.createElement("a",{href:"/movie/".concat(e.id),style:{textDecoration:"none"}},"MORE")))),s.a.createElement(f.a,{count:10,value:e.rating,isHalf:!0,edit:!1}),s.a.createElement("br",null))});return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row mt-2",id:"start"},s.a.createElement(function(e){return s.a.createElement(m.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),s.a.createElement(m.a.Header,{closeButton:!0,style:{background:"#000"}},s.a.createElement(m.a.Title,{id:"contained-modal-title-vcenter",style:{fontWeight:"bolder"}},y.title)),s.a.createElement(m.a.Body,{style:{backgroundColor:"#000"}},s.a.createElement(d.a,{className:"container-fluid",url:C?"https://www.youtube.com/watch?v="+C.key:"https://www.youtube.com/watch?v=8tPnX7OPo0Q",playing:!0,controls:!0,width:"100%"})))},{show:v,onHide:function(){g(!1)}}),s.a.createElement(D.a,{fluid:!0,style:{backgroundSize:"cover",backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(y.backdrop_path?y.backdrop_path:y.poster_path,'")'),backgroundPosition:"center center",height:"30vmax"},className:"col text-center"},s.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return g(!0)},className:"play"},s.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-play",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M10.804 8L5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"}))),s.a.createElement("div",null,s.a.createElement("h3",null,y.title),s.a.createElement("b",null,y.release_date,s.a.createElement("span",null," | ",y.runtime," mins | "),"IMDB ",y.vote_average),s.a.createElement("p",null,y.tagline),s.a.createElement("div",{style:{whiteSpace:"nowrap",padding:"0"}}," ",s.a.createElement(F,{movieInfo:y,movieId:a.id,userFrom:localStorage.getItem("userId")})," ",s.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return g(!0)},className:"play__2"},"Play Trailer"))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col"},s.a.createElement("ul",{className:"list-inline"},te))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"mt-3"},s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement("h3",null,"Overview"),s.a.createElement("a",{href:y.homepage,target:"_blank",rel:"noopener noreferrer"},s.a.createElement(b.a,{style:{padding:"3px 3px"}},"Go to Homepage"," ",s.a.createElement("span",{role:"img","aria-label":"arrow_forward"},"\u25b6\ufe0f")))),s.a.createElement("b",null,y.title),s.a.createElement("p",null,y.overview)))),s.a.createElement(j,{video:!0,videoId:a.id,userId:localStorage.getItem("userId")}),s.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"2rem"}},s.a.createElement(b.a,{onClick:function(){W(!J)}},"See Casts ")),J&&s.a.createElement("div",{className:"row mt-3"},ae),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Similar Movies"))),s.a.createElement(T.a,{showDots:!0,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5,slidesToSlide:5},desktop:{breakpoint:{max:3e3,min:1024},items:4,slidesToSlide:4,partialVisibilityGutter:40},tablet:{breakpoint:{max:1024,min:464},items:3,slidesToSlide:3,partialVisibilityGutter:30},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:2,partialVisibilityGutter:30}},centerMode:!0,infinite:!0,minimumTouchDrag:20,removeArrowOnDeviceType:"mobile",dotListClass:"dots"},ne)," ",s.a.createElement(S,{movieTitle:y.title,CommentLists:Y,postId:a.id,refreshFunction:function(e){q(Y.concat(e))}}),s.a.createElement("a",{href:"#start",className:"".concat($&&"showStart"," hideStart")},s.a.createElement(O.a,{type:"arrow-up"})))}}}]);
//# sourceMappingURL=10.dbfc4afe.chunk.js.map